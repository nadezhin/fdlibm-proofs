(in-package "ACL2")
(include-book "../llvm")

(defconst *__kernel_sin-globals* '())

(defund @__kernel_sin-%64 (mem %1)
  (b* (
    (%65 (load-double %1 mem)))
  %65))

(defund @__kernel_sin-%48 (mem %r %v %z %1 %2 %3)
  (b* (
    (%49 (load-double %2 mem))
    (%50 (load-double %z mem))
    (%51 (load-double %3 mem))
    (%52 (fmul-double #x3fe0000000000000 %51))
    (%53 (load-double %v mem))
    (%54 (load-double %r mem))
    (%55 (fmul-double %53 %54))
    (%56 (fsub-double %52 %55))
    (%57 (fmul-double %50 %56))
    (%58 (load-double %3 mem))
    (%59 (fsub-double %57 %58))
    (%60 (load-double %v mem))
    (%61 (fmul-double %60 #xBFC5555555555549))
    (%62 (fsub-double %59 %61))
    (%63 (fsub-double %49 %62))
    (mem (store-double %63 %1 mem)))
  (@__kernel_sin-%64 mem %1)))

(defund @__kernel_sin-%39 (mem %r %v %z %1 %2)
  (b* (
    (%40 (load-double %2 mem))
    (%41 (load-double %v mem))
    (%42 (load-double %z mem))
    (%43 (load-double %r mem))
    (%44 (fmul-double %42 %43))
    (%45 (fadd-double #xBFC5555555555549 %44))
    (%46 (fmul-double %41 %45))
    (%47 (fadd-double %40 %46))
    (mem (store-double %47 %1 mem)))
  (@__kernel_sin-%64 mem %1)))

(defund @__kernel_sin-%18 (mem %r %v %z %1 %2 %3 %4)
  (b* (
    (%19 (load-double %2 mem))
    (%20 (load-double %2 mem))
    (%21 (fmul-double %19 %20))
    (mem (store-double %21 %z mem))
    (%22 (load-double %z mem))
    (%23 (load-double %2 mem))
    (%24 (fmul-double %22 %23))
    (mem (store-double %24 %v mem))
    (%25 (load-double %z mem))
    (%26 (load-double %z mem))
    (%27 (load-double %z mem))
    (%28 (load-double %z mem))
    (%29 (fmul-double %28 #x3DE5D93A5ACFD57C))
    (%30 (fadd-double #xBE5AE5E68A2B9CEB %29))
    (%31 (fmul-double %27 %30))
    (%32 (fadd-double #x3EC71DE357B1FE7D %31))
    (%33 (fmul-double %26 %32))
    (%34 (fadd-double #xBF2A01A019C161D5 %33))
    (%35 (fmul-double %25 %34))
    (%36 (fadd-double #x3F8111111110F8A6 %35))
    (mem (store-double %36 %r mem))
    (%37 (load-i32 %4 mem))
    (%38 (icmp-eq-i32 %37 0)))
  (case %38
    (-1  (@__kernel_sin-%39 mem %r %v %z %1 %2))
    (0 (@__kernel_sin-%48 mem %r %v %z %1 %2 %3)))))

(defund @__kernel_sin-%17 (mem %r %v %z %1 %2 %3 %4)
  (b* ()
  (@__kernel_sin-%18 mem %r %v %z %1 %2 %3 %4)))

(defund @__kernel_sin-%15 (mem %1 %2)
  (b* (
    (%16 (load-double %2 mem))
    (mem (store-double %16 %1 mem)))
  (@__kernel_sin-%64 mem %1)))

(defund @__kernel_sin-%11 (mem %r %v %z %1 %2 %3 %4)
  (b* (
    (%12 (load-double %2 mem))
    (%13 (fptosi-double-to-i32 %12))
    (%14 (icmp-eq-i32 %13 0)))
  (case %14
    (-1  (@__kernel_sin-%15 mem %1 %2))
    (0 (@__kernel_sin-%17 mem %r %v %z %1 %2 %3 %4)))))

(defund @__kernel_sin-%0 (mem %x %y %iy)
  (b* (
    ((mv %1 mem) (alloca-double 'ret 1 mem))
    ((mv %2 mem) (alloca-double 'x 1 mem))
    ((mv %3 mem) (alloca-double 'y 1 mem))
    ((mv %4 mem) (alloca-i32 'iy 1 mem))
    ((mv %z mem) (alloca-double 'z 1 mem))
    ((mv %r mem) (alloca-double 'r 1 mem))
    ((mv %v mem) (alloca-double 'v 1 mem))
    ((mv %ix mem) (alloca-i32 'ix 1 mem))
    (mem (store-double %x %2 mem))
    (mem (store-double %y %3 mem))
    (mem (store-i32 %iy %4 mem))
    (%5 (bitcast-double*-to-i32* %2))
    (%6 (getelementptr-i32 %5 1))
    (%7 (load-i32 %6 mem))
    (%8 (and-i32 %7 2147483647))
    (mem (store-i32 %8 %ix mem))
    (%9 (load-i32 %ix mem))
    (%10 (icmp-slt-i32 %9 1044381696)))
  (case %10
    (-1  (@__kernel_sin-%11 mem %r %v %z %1 %2 %3 %4))
    (0 (@__kernel_sin-%18 mem %r %v %z %1 %2 %3 %4)))))

(defund @__kernel_sin (%x %y %iy)
  (@__kernel_sin-%0 *__kernel_sin-globals* %x %y %iy))
